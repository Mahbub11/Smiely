{"ast":null,"code":"// import { showSnackbar } from \"./app\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"../../utils/axios\";\nimport { API_LEVEL } from \"../../config\";\nimport { ShowsnackBar } from \"../actions\";\n// import { ShowsnackBar } from \"../actions\";\n// import { showSnackbar } from \"./app\";\n// import { showSnackbar } from \"./app\";\n\nconst initialState = {\n  loading: false,\n  error: null,\n  post: null\n};\nconst slice = createSlice({\n  name: \"post\",\n  initialState,\n  reducers: {\n    // get the post of following user\n    PostFollowingRequest: state => {\n      state.loading = true;\n    },\n    PostFollowingSuccess: (state, action) => {\n      state.loading = false;\n      state.post = action.payload.payload.posts;\n    },\n    PostFollowingFail: (state, action) => {\n      state.loading = false;\n      state.error = action.payload.payload;\n    },\n    PostFollowingReset: (state, action) => {\n      state.post = [];\n    },\n    PostFollowingResetError: (state, action) => {\n      state.loading = true;\n      state.error = action.payload.payload;\n    }\n  }\n});\n\n// export the slice of reducer\nexport default slice.reducer;\nexport const getPostsOfFollowing = function () {\n  let page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  return async dispatch => {\n    try {\n      dispatch(slice.actions.PostFollowingRequest);\n      setTimeout(async () => {\n        const {\n          data\n        } = await axios.get(`${API_LEVEL}/post/get-user-following-post?page=${page}`, {\n          withCredentials: true\n        });\n        dispatch(slice.actions.PostFollowingSuccess({\n          payload: data\n        }));\n        console.log(data);\n      }, 300);\n    } catch (error) {\n      console.log(error);\n      dispatch(slice.actions.PostFollowingFail({\n        payload: error.message\n      }));\n    }\n  };\n};\nexport const postsOfFollowingReset = () => async dispatch => {\n  try {\n    dispatch(slice.actions.PostFollowingReset);\n  } catch (error) {\n    console.log(error);\n    dispatch(slice.actions.PostFollowingResetError({\n      payload: error.message\n    }));\n  }\n};","map":{"version":3,"names":["createSlice","axios","API_LEVEL","ShowsnackBar","initialState","loading","error","post","slice","name","reducers","PostFollowingRequest","state","PostFollowingSuccess","action","payload","posts","PostFollowingFail","PostFollowingReset","PostFollowingResetError","reducer","getPostsOfFollowing","page","arguments","length","undefined","dispatch","actions","setTimeout","data","get","withCredentials","console","log","message","postsOfFollowingReset"],"sources":["C:/Users/mahbu/Documents/MERN/SMIELY/frontend/src/redux/slices/post.js"],"sourcesContent":["// import { showSnackbar } from \"./app\";\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"../../utils/axios\";\r\nimport { API_LEVEL } from \"../../config\";\r\nimport { ShowsnackBar } from \"../actions\";\r\n// import { ShowsnackBar } from \"../actions\";\r\n// import { showSnackbar } from \"./app\";\r\n// import { showSnackbar } from \"./app\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: null,\r\n  post: null,\r\n};\r\n\r\nconst slice = createSlice({\r\n  name: \"post\",\r\n  initialState,\r\n  reducers: {\r\n    // get the post of following user\r\n    PostFollowingRequest: (state) => {\r\n      state.loading = true;\r\n    },\r\n    PostFollowingSuccess: (state, action) => {\r\n      state.loading = false;\r\n      state.post = action.payload.payload.posts;\r\n    },\r\n    PostFollowingFail: (state, action) => {\r\n      state.loading = false;\r\n      state.error = action.payload.payload;\r\n    },\r\n    PostFollowingReset: (state, action) => {\r\n      state.post = [];\r\n    },\r\n    PostFollowingResetError: (state, action) => {\r\n      state.loading = true;\r\n      state.error = action.payload.payload;\r\n    },\r\n  },\r\n});\r\n\r\n// export the slice of reducer\r\nexport default slice.reducer;\r\n\r\nexport const getPostsOfFollowing =\r\n  (page = 1) =>\r\n  async (dispatch) => {\r\n    try {\r\n      dispatch(slice.actions.PostFollowingRequest);\r\n\r\n      setTimeout(async () => {\r\n        const { data } = await axios.get(\r\n          `${API_LEVEL}/post/get-user-following-post?page=${page}`,\r\n          {\r\n            withCredentials: true,\r\n          }\r\n        );\r\n\r\n        dispatch(\r\n          slice.actions.PostFollowingSuccess({\r\n            payload: data,\r\n          })\r\n        );\r\n        console.log(data)\r\n      }, 300);\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(\r\n        slice.actions.PostFollowingFail({\r\n          payload: error.message,\r\n        })\r\n      );\r\n    }\r\n  };\r\nexport const postsOfFollowingReset = () => async (dispatch) => {\r\n  try {\r\n    dispatch(slice.actions.PostFollowingReset);\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch(\r\n      slice.actions.PostFollowingResetError({\r\n        payload: error.message,\r\n      })\r\n    );\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}