{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mahbu\\\\Documents\\\\MERN\\\\SMIELY\\\\frontend\\\\src\\\\contexts\\\\SettingsContext.js\",\n  _s2 = $RefreshSig$();\nimport { createContext } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { defaultSettings } from \"../config\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  ...defaultSettings,\n  onToggleMode: () => {}\n};\nconst SettingsContext = /*#__PURE__*/createContext(initialState);\nconst SettingsProvider = _ref => {\n  _s2();\n  var _s = $RefreshSig$();\n  let {\n    children\n  } = _ref;\n  // const dispatch= useDispatch();\n\n  const [settings, setSettings] = useLocalStorage(\"settings\", {\n    themeMode: initialState.themeMode\n  });\n\n  // mode\n  const onToggleMode = () => {\n    _s();\n    setSettings({\n      ...settings,\n      themeMode: settings.themeMode === \"light\" ? \"dark\" : \"light\"\n    });\n    console.log('Clicked');\n    //    dispatch(setMode);\n    const [theme, setTheme] = useState(localStorage.theme);\n    const colorTheme = theme === \"dark\" ? \"light\" : \"dark\";\n    useEffect(() => {\n      const root = window.document.documentElement;\n      root.classList.remove(colorTheme);\n      root.classList.add(theme);\n      localStorage.setItem('theme', theme);\n    }, [theme, colorTheme]);\n\n    // console.log(defaultSettings)\n  };\n  _s(onToggleMode, \"gcjs42dzIBUW9Pa9Ee05u83kE0U=\");\n  return /*#__PURE__*/_jsxDEV(SettingsContext.Provider, {\n    value: {\n      ...settings,\n      onToggleMode\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n_s2(SettingsProvider, \"zUV0jt8H91QSu9U3MGRBQ1WCbEg=\", false, function () {\n  return [useLocalStorage];\n});\n_c = SettingsProvider;\nexport { SettingsContext };\nexport default SettingsProvider;\nvar _c;\n$RefreshReg$(_c, \"SettingsProvider\");","map":{"version":3,"names":["createContext","useDispatch","defaultSettings","useLocalStorage","jsxDEV","_jsxDEV","initialState","onToggleMode","SettingsContext","SettingsProvider","_ref","_s2","_s","$RefreshSig$","children","settings","setSettings","themeMode","console","log","theme","setTheme","useState","localStorage","colorTheme","useEffect","root","window","document","documentElement","classList","remove","add","setItem","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/mahbu/Documents/MERN/SMIELY/frontend/src/contexts/SettingsContext.js"],"sourcesContent":["import { createContext } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { defaultSettings } from \"../config\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\n\r\n\r\n\r\nconst initialState={\r\n    ...defaultSettings,\r\n    onToggleMode: ()=>{}\r\n}\r\n\r\nconst SettingsContext= createContext(initialState);\r\n\r\nconst SettingsProvider= ({children})=>{\r\n\r\n\r\n    // const dispatch= useDispatch();\r\n\r\n    const [settings, setSettings] = useLocalStorage(\"settings\", {\r\n        themeMode: initialState.themeMode,\r\n      });\r\n    \r\n    // mode\r\n    const onToggleMode=()=>{\r\n        setSettings({\r\n            ...settings,\r\n            themeMode: settings.themeMode === \"light\" ? \"dark\" : \"light\",\r\n          });\r\n       console.log('Clicked')\r\n    //    dispatch(setMode);\r\n    const [theme, setTheme] = useState(localStorage.theme);\r\n\tconst colorTheme = theme === \"dark\" ? \"light\" : \"dark\";\r\n\r\n\tuseEffect(() => {\r\n\t\tconst root = window.document.documentElement;\r\n\t\troot.classList.remove(colorTheme);\r\n\t\troot.classList.add(theme);\r\n\t\tlocalStorage.setItem('theme', theme);\r\n\t}, [theme, colorTheme]);\r\n\r\n    // console.log(defaultSettings)\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <SettingsContext.Provider\r\n        value={{ \r\n            ...settings,\r\n            onToggleMode\r\n         }}>\r\n          {children}\r\n        </SettingsContext.Provider>\r\n    )\r\n}\r\n\r\nexport {SettingsContext};\r\nexport default SettingsProvider;"],"mappings":";;AAAA,SAASA,aAAa,QAAQ,OAAO;AACrC,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,eAAe,QAAQ,WAAW;AAC3C,OAAOC,eAAe,MAAM,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAIvD,MAAMC,YAAY,GAAC;EACf,GAAGJ,eAAe;EAClBK,YAAY,EAAEA,CAAA,KAAI,CAAC;AACvB,CAAC;AAED,MAAMC,eAAe,gBAAER,aAAa,CAACM,YAAY,CAAC;AAElD,MAAMG,gBAAgB,GAAEC,IAAA,IAAc;EAAAC,GAAA;EAAA,IAAAC,EAAA,GAAAC,YAAA;EAAA,IAAb;IAACC;EAAQ,CAAC,GAAAJ,IAAA;EAG/B;;EAEA,MAAM,CAACK,QAAQ,EAAEC,WAAW,CAAC,GAAGb,eAAe,CAAC,UAAU,EAAE;IACxDc,SAAS,EAAEX,YAAY,CAACW;EAC1B,CAAC,CAAC;;EAEJ;EACA,MAAMV,YAAY,GAACA,CAAA,KAAI;IAAAK,EAAA;IACnBI,WAAW,CAAC;MACR,GAAGD,QAAQ;MACXE,SAAS,EAAEF,QAAQ,CAACE,SAAS,KAAK,OAAO,GAAG,MAAM,GAAG;IACvD,CAAC,CAAC;IACLC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;IACzB;IACA,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGC,QAAQ,CAACC,YAAY,CAACH,KAAK,CAAC;IACzD,MAAMI,UAAU,GAAGJ,KAAK,KAAK,MAAM,GAAG,OAAO,GAAG,MAAM;IAEtDK,SAAS,CAAC,MAAM;MACf,MAAMC,IAAI,GAAGC,MAAM,CAACC,QAAQ,CAACC,eAAe;MAC5CH,IAAI,CAACI,SAAS,CAACC,MAAM,CAACP,UAAU,CAAC;MACjCE,IAAI,CAACI,SAAS,CAACE,GAAG,CAACZ,KAAK,CAAC;MACzBG,YAAY,CAACU,OAAO,CAAC,OAAO,EAAEb,KAAK,CAAC;IACrC,CAAC,EAAE,CAACA,KAAK,EAAEI,UAAU,CAAC,CAAC;;IAEpB;EAEA,CAAC;EAAAZ,EAAA,CAnBKL,YAAY;EAsBlB,oBACIF,OAAA,CAACG,eAAe,CAAC0B,QAAQ;IACzBC,KAAK,EAAE;MACH,GAAGpB,QAAQ;MACXR;IACH,CAAE;IAAAO,QAAA,EACAA;EAAQ;IAAAsB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACe,CAAC;AAEnC,CAAC;AAAA5B,GAAA,CAzCKF,gBAAgB;EAAA,QAKcN,eAAe;AAAA;AAAAqC,EAAA,GAL7C/B,gBAAgB;AA2CtB,SAAQD,eAAe;AACvB,eAAeC,gBAAgB;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}