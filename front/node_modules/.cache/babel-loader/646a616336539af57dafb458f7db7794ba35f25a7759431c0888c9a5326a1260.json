{"ast":null,"code":"// import { showSnackbar } from \"./app\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"../../utils/axios\";\nimport { API_LEVEL } from \"../../config\";\nimport { ShowsnackBar } from \"../actions\";\n// import { ShowsnackBar } from \"../actions\";\n// import { showSnackbar } from \"./app\";\n// import { showSnackbar } from \"./app\";\n\nconst initialState = {\n  loading: true,\n  error: null,\n  user: null,\n  follow: false\n};\nconst slice = createSlice({\n  name: \"userDetails\",\n  initialState,\n  reducers: {\n    LoadUserRequest: state => {\n      state.loading = true;\n    },\n    LoadUserDetailsSuccess: (state, action) => {\n      state.loading = false;\n      state.user = action.payload.payload;\n    },\n    LoadUserFail: (state, action) => {\n      state.loading = false;\n      state.error = action.payload.payload;\n    },\n    FollowUserRequest: state => {\n      state.loading = true;\n    },\n    FollowUserSuccess: (state, action) => {\n      state.loading = false;\n      state.user = action.payload.payload;\n    },\n    FollowUserFail: (state, action) => {\n      state.loading = false;\n      state.error = action.payload.payload;\n    }\n  }\n});\n\n// export the slice of reducer\nexport default slice.reducer;\n\n//  The Actions\nexport const getUserDetails = username => async dispatch => {\n  try {\n    console.log(username);\n    dispatch({\n      type: 'LoadUserRequest'\n    });\n    const {\n      data\n    } = await axios.get(`${API_LEVEL}/user/userdetails/${username}`);\n    console.log(data.user);\n    dispatch(slice.actions.LoadUserDetailsSuccess({\n      payload: data.user\n    }));\n  } catch (error) {\n    dispatch({\n      type: 'LoadUserFail',\n      payload: error\n    });\n  }\n};\n// Follow | Unfollow User\nexport const followUser = userId => async dispatch => {\n  try {\n    dispatch(slice.actions.FollowUserRequest());\n    const {\n      data\n    } = await axios.get(`${API_LEVEL}/follow/${userId}`);\n    console.log(data);\n    dispatch(slice.actions.FollowUserSuccess({\n      payload: data\n    }));\n  } catch (error) {\n    console.log(error);\n    dispatch(slice.actions.FollowUserFail({\n      payload: error.message\n    }));\n  }\n};","map":{"version":3,"names":["createSlice","axios","API_LEVEL","ShowsnackBar","initialState","loading","error","user","follow","slice","name","reducers","LoadUserRequest","state","LoadUserDetailsSuccess","action","payload","LoadUserFail","FollowUserRequest","FollowUserSuccess","FollowUserFail","reducer","getUserDetails","username","dispatch","console","log","type","data","get","actions","followUser","userId","message"],"sources":["C:/Users/mahbu/Documents/MERN/SMIELY/frontend/src/redux/slices/user.js"],"sourcesContent":["// import { showSnackbar } from \"./app\";\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"../../utils/axios\";\r\nimport { API_LEVEL } from \"../../config\";\r\nimport { ShowsnackBar } from \"../actions\";\r\n// import { ShowsnackBar } from \"../actions\";\r\n// import { showSnackbar } from \"./app\";\r\n// import { showSnackbar } from \"./app\";\r\n\r\nconst initialState = {\r\n  loading: true,\r\n  error: null,\r\n  user: null,\r\n  follow:false,\r\n};\r\n\r\nconst slice = createSlice({\r\n  name: \"userDetails\",\r\n  initialState,\r\n  reducers: {\r\n    LoadUserRequest: (state) => {\r\n      state.loading = true;\r\n    },\r\n    LoadUserDetailsSuccess: (state, action) => {\r\n     \r\n      state.loading = false;\r\n      state.user = action.payload.payload;\r\n    },\r\n    LoadUserFail: (state, action) => {\r\n      state.loading = false;\r\n      state.error = action.payload.payload;\r\n\r\n    },\r\n    FollowUserRequest: (state) => {\r\n      state.loading = true;\r\n    },\r\n    FollowUserSuccess: (state, action) => {\r\n     \r\n      state.loading = false;\r\n      state.user = action.payload.payload;\r\n    },\r\n    FollowUserFail: (state, action) => {\r\n      state.loading = false;\r\n      state.error = action.payload.payload;\r\n\r\n    },\r\n  },\r\n});\r\n\r\n// export the slice of reducer\r\nexport default slice.reducer;\r\n\r\n//  The Actions\r\nexport const getUserDetails = (username) => async (dispatch) => {\r\n  try {\r\n\r\n    console.log(username)\r\n    dispatch({ type: 'LoadUserRequest' });\r\n    const { data } = await axios.get( `${API_LEVEL}/user/userdetails/${username}`);\r\n\r\n    console.log(data.user)\r\n   \r\n    dispatch(\r\n      slice.actions.LoadUserDetailsSuccess({\r\n        payload: data.user,\r\n      })\r\n    );\r\n\r\n} catch (error) {\r\n    dispatch({\r\n        type: 'LoadUserFail',\r\n        payload: error,\r\n    });\r\n}\r\n};\r\n// Follow | Unfollow User\r\nexport const followUser = (userId) => async (dispatch) => {\r\n  try {\r\n\r\n    dispatch(\r\n      slice.actions.FollowUserRequest()\r\n    );\r\n      const { data } = await axios.get(`${API_LEVEL}/follow/${userId}`);\r\n\r\n      console.log(data)\r\n      dispatch(\r\n        slice.actions.FollowUserSuccess({\r\n          payload: data,\r\n        })\r\n      );\r\n\r\n  } catch (error) {\r\n    console.log(error)\r\n    dispatch(\r\n      slice.actions.FollowUserFail({\r\n        payload: error.message,\r\n      })\r\n    );\r\n  }\r\n};\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}