{"ast":null,"code":"// import { showSnackbar } from \"./app\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"../../utils/axios\";\nimport { API_LEVEL } from \"../../config\";\nimport { ShowsnackBar } from \"../actions\";\n// import { ShowsnackBar } from \"../actions\";\n// import { showSnackbar } from \"./app\";\n// import { showSnackbar } from \"./app\";\n\nconst initialState = {\n  loading: false,\n  error: null,\n  post: [],\n  totalPost: null,\n  message: null\n};\nconst slice = createSlice({\n  name: \"post\",\n  initialState,\n  reducers: {\n    // get the post of following user\n    PostFollowingRequest: state => {\n      state.loading = true;\n    },\n    PostFollowingSuccess: (state, action) => {\n      state.loading = false;\n      state.post = action.payload.payload.posts;\n      state.totalPost = action.payload.payload.totalPosts;\n    },\n    PostFollowingFail: (state, action) => {\n      state.loading = false;\n      state.error = action.payload.payload;\n    },\n    PostFollowingReset: (state, action) => {\n      state.post = [];\n    },\n    PostFollowingResetError: (state, action) => {\n      state.loading = true;\n      state.error = action.payload.payload;\n    },\n    // Like Post\n    LikePostRequest: state => {\n      state.loading = true;\n    },\n    LikePostRequestSuccess: (state, action) => {\n      state.loading = false;\n      state.message = action.payload.payload;\n      state.post = [{\n        \"caption\": \"dhfhdhjfdhjf\",\n        \"image\": \"awsome-1689347049213-626569869.png\",\n        \"postedBy\": {\n          \"$oid\": \"64a69fd9113de03cb63300c9\"\n        },\n        \"likes\": [],\n        \"savedBy\": [],\n        \"comments\": [],\n        \"createdAt\": {\n          \"$date\": {\n            \"$numberLong\": \"1689347049238\"\n          }\n        },\n        \"__v\": 21\n      }];\n    },\n    LikePostRequestFail: (state, action) => {\n      state.loading = false;\n      state.error = action.payload.payload;\n    }\n  }\n});\n\n// export the slice of reducer\nexport default slice.reducer;\nexport const getPostsOfFollowing = function () {\n  let page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  return async dispatch => {\n    try {\n      dispatch(slice.actions.PostFollowingRequest);\n      await axios.get(`${API_LEVEL}/post/get-user-following-post?page=${page}`, {\n        withCredentials: true\n      }).then(response => {\n        dispatch(slice.actions.PostFollowingSuccess({\n          payload: response.data\n        }));\n        console.log(response.data);\n      });\n    } catch (error) {\n      console.log(error);\n      dispatch(slice.actions.PostFollowingFail({\n        payload: error.message\n      }));\n    }\n  };\n};\nexport const postsOfFollowingReset = () => async dispatch => {\n  try {\n    dispatch(slice.actions.PostFollowingReset);\n  } catch (error) {\n    console.log(error);\n    dispatch(slice.actions.PostFollowingResetError({\n      payload: error.message\n    }));\n  }\n};\nexport const likePost = postId => async dispatch => {\n  try {\n    dispatch(slice.actions.LikePostRequest);\n    const {\n      data\n    } = await axios.get(`${API_LEVEL}/post/like/${postId}`, {\n      withCredentials: true\n    });\n    console.log(data);\n    dispatch(slice.actions.LikePostRequestSuccess({\n      payload: data\n    }));\n  } catch (error) {\n    console.log(error);\n    dispatch(slice.actions.LikePostRequestFail({\n      payload: error\n    }));\n  }\n};","map":{"version":3,"names":["createSlice","axios","API_LEVEL","ShowsnackBar","initialState","loading","error","post","totalPost","message","slice","name","reducers","PostFollowingRequest","state","PostFollowingSuccess","action","payload","posts","totalPosts","PostFollowingFail","PostFollowingReset","PostFollowingResetError","LikePostRequest","LikePostRequestSuccess","LikePostRequestFail","reducer","getPostsOfFollowing","page","arguments","length","undefined","dispatch","actions","get","withCredentials","then","response","data","console","log","postsOfFollowingReset","likePost","postId"],"sources":["C:/Users/mahbu/Documents/MERN/SMIELY/frontend/src/redux/slices/post.js"],"sourcesContent":["// import { showSnackbar } from \"./app\";\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"../../utils/axios\";\r\nimport { API_LEVEL } from \"../../config\";\r\nimport { ShowsnackBar } from \"../actions\";\r\n// import { ShowsnackBar } from \"../actions\";\r\n// import { showSnackbar } from \"./app\";\r\n// import { showSnackbar } from \"./app\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: null,\r\n  post: [],\r\n  totalPost:null,\r\n  message:null,\r\n};\r\n\r\nconst slice = createSlice({\r\n  name: \"post\",\r\n  initialState,\r\n  reducers: {\r\n    // get the post of following user\r\n    PostFollowingRequest: (state) => {\r\n      state.loading = true;\r\n    },\r\n    PostFollowingSuccess: (state, action) => {\r\n      state.loading = false;\r\n      state.post = action.payload.payload.posts;\r\n      state.totalPost= action.payload.payload.totalPosts\r\n    },\r\n    PostFollowingFail: (state, action) => {\r\n      state.loading = false;\r\n      state.error = action.payload.payload;\r\n    },\r\n    PostFollowingReset: (state, action) => {\r\n      state.post = [];\r\n    },\r\n    PostFollowingResetError: (state, action) => {\r\n      state.loading = true;\r\n      state.error = action.payload.payload;\r\n    },\r\n\r\n      // Like Post\r\n      LikePostRequest: (state) => {\r\n        state.loading = true;\r\n      },\r\n      LikePostRequestSuccess: (state, action) => {\r\n        state.loading = false;\r\n        state.message = action.payload.payload;\r\n        state.post=[{\r\n          \r\n            \"caption\": \"dhfhdhjfdhjf\",\r\n            \"image\": \"awsome-1689347049213-626569869.png\",\r\n            \"postedBy\": {\r\n              \"$oid\": \"64a69fd9113de03cb63300c9\"\r\n            },\r\n            \"likes\": [],\r\n            \"savedBy\": [],\r\n            \"comments\": [],\r\n            \"createdAt\": {\r\n              \"$date\": {\r\n                \"$numberLong\": \"1689347049238\"\r\n              }\r\n            },\r\n            \"__v\": 21\r\n          \r\n        }]\r\n      },\r\n      LikePostRequestFail: (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload.payload;\r\n      },\r\n  },\r\n});\r\n\r\n// export the slice of reducer\r\nexport default slice.reducer;\r\n\r\nexport const getPostsOfFollowing =\r\n  (page = 1) =>\r\n  async (dispatch) => {\r\n    try {\r\n      dispatch(slice.actions.PostFollowingRequest);\r\n\r\n     \r\n          await axios.get(\r\n          `${API_LEVEL}/post/get-user-following-post?page=${page}`,\r\n          {\r\n            withCredentials: true,\r\n          }\r\n        ).then((response)=>{\r\n          dispatch(\r\n          slice.actions.PostFollowingSuccess({\r\n            payload: response.data,\r\n          })\r\n        );\r\n        console.log(response.data)\r\n        });\r\n\r\n        \r\n        \r\n     \r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(\r\n        slice.actions.PostFollowingFail({\r\n          payload: error.message,\r\n        })\r\n      );\r\n    }\r\n  };\r\nexport const postsOfFollowingReset = () => async (dispatch) => {\r\n  try {\r\n    dispatch(slice.actions.PostFollowingReset);\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch(\r\n      slice.actions.PostFollowingResetError({\r\n        payload: error.message,\r\n      })\r\n    );\r\n  }\r\n};\r\nexport const likePost = (postId) => async (dispatch) => {\r\n  try {\r\n    dispatch(slice.actions.LikePostRequest);\r\n    const { data } = await axios.get(`${API_LEVEL}/post/like/${postId}`,{withCredentials:true});\r\n\r\n    console.log(data)\r\n    dispatch(\r\n      slice.actions.LikePostRequestSuccess({\r\n        payload: data,\r\n      })\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch(\r\n      slice.actions.LikePostRequestFail({\r\n        payload: error,\r\n      })\r\n    );\r\n  }\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}